<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>

    <th:block th:include="fragments/defaults :: head (pageTitle='JobListing - Create')">x</th:block>

</head>

<body>

<th:block th:include="fragments/navbar :: navbar">x</th:block>

<div class="container">
    <div class="row">

        <div class="col-md-6 col-md-offset-3">
            <form autocomplete="off" action="#" th:action="@{/apply/form}"
                  th:object="${appeal}" method="post" class="form-horizontal" name="form-application" role="form"
                  enctype="multipart/form-data">

                <a href="#" th:href="@{/joblistings/} + ${jobListing.getId()}"><h2 th:text="'Apply to '+${jobListing.getTitle()}"></h2></a>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="validation-message"></label>
                        <label for="email">Email :</label>
                        <input type="text" th:field="*{email}" id="email" placeholder="Email" class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="validation-message"></label>
                        <label for="name">Fullname :</label>
                        <input type="text" th:field="*{name}" id="name" placeholder="Name" class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}" class="validation-message"></label>
                        <label for="phone">Phone :</label>
                        <input type="text" th:field="*{phone}" id="phone" placeholder="Phone" class="form-control"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="validation-message"></label>
                        <label for="address">Address :</label>
                        <input type="text" th:field="*{address}" id="address" placeholder="Address" class="form-control" name="address"/>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label th:if="${#fields.hasErrors('thoughts')}" th:errors="*{thoughts}" class="validation-message"></label>
                        <label for="thoughts">Thoughts :</label>
                        <textarea th:field="*{thoughts}" id="thoughts" placeholder="Thoughts about this job" class="form-control"> </textarea>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-12">
                        <label for="cv">Resume :</label>
                        <input type="file" id="cv" name="cv" class="form-control"/>
                    </div>
                </div>

                <input type="hidden" th:field="*{jobListing}"/>

                <div class="form-group">
                    <div class="col-sm-12">
                        <button type="submit" class="btn btn-primary btn-block">Apply</button>
                    </div>
                </div>

                <span th:utext="${message}" style="color:darkred;font-weight: bold"></span>

            </form>
        </div>
    </div>
</div>

</body>
</html>